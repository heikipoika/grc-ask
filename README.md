# grc-ask


## Decode ASK modulated data

Decodeing a digital stream encoded as "CW morse code" is not as simple as it might appear. Even though the ASK modulation scheme might be the simplest, using a fix length pulse for '1' and the same fixed gap length for a '0', you'll find yourself having a clock recovery issue. This issue is adressed with various
other, only slightly more complex, modulation schemes. One being OOK, as used in a previous project of mine: https://github.com/heikipoika/grc-ook.
This modulation uses a signal edge (low/high transition) in every bit as reference for when to sample the databit value.

## Clock Recovery study

Clock recovery in itself can be more or less tricky, but even the simplest ones requires some logics (counters, filters, comprators, DLL etc). However, theres some nice readymade blocks for clock recovery in grc, intended for more complex datalinks than my needs. The goal of this project is to see if I can get clock recovery working on a low bandwidth HF datalink.

## The flowgraph

![Flowgraph](/images/grc-ask.grc.png)
 
Im using three sources of data:
* The RTL-SDR - the intended end usage source
* A File Source (IQ data generated by the gendata.m script) - *Currently the one active in the flowgraph*
* A spiderweb of basic blocks in the left bottom :-) - in order to easiliy be able to trim values 

Then theres just a lowpass filter to get rid of unwanted noise, the symbol sync to extract the databits and finally my simple Python block to
decode the data.

## gendata.m

gendata.m is a matlab script for generating a encoded signal, with noise and store it as raw IQ data that can be read by GRC. Why matlab, and not somethingmore open sourceish? Well, what can I say, I like matlab. Input paramaters to the script are:
* Noisefloor
* SNR (the signals strength relative to the chosen floor)
* PW jitter (in percent)
